{
  "schemaVersion": 1,
  "levelId": 1,
  "meta": {
    "name": "",
    "backgroundId": "space_background",
    "musicId": "menu_music",
    "author": "",
    "difficulty": ""
  },
  "archetypes": [
    {
      "typeId": 1,
      "spriteId": "player_ship",
      "animId": "player1",
      "layer": 0
    },
    {
      "typeId": 12,
      "spriteId": "player_ship",
      "animId": "player2",
      "layer": 0
    },
    {
      "typeId": 13,
      "spriteId": "player_ship",
      "animId": "player3",
      "layer": 0
    },
    {
      "typeId": 14,
      "spriteId": "player_ship",
      "animId": "player4",
      "layer": 0
    },
    {
      "typeId": 3,
      "spriteId": "bullet",
      "animId": "bullet_basic",
      "layer": 0
    },
    {
      "typeId": 4,
      "spriteId": "bullet",
      "animId": "bullet_charge_lvl1",
      "layer": 0
    },
    {
      "typeId": 5,
      "spriteId": "bullet",
      "animId": "bullet_charge_lvl2",
      "layer": 0
    },
    {
      "typeId": 6,
      "spriteId": "bullet",
      "animId": "bullet_charge_lvl3",
      "layer": 0
    },
    {
      "typeId": 7,
      "spriteId": "bullet",
      "animId": "bullet_charge_lvl4",
      "layer": 0
    },
    {
      "typeId": 8,
      "spriteId": "bullet",
      "animId": "bullet_charge_lvl5",
      "layer": 0
    },
    {
      "typeId": 15,
      "spriteId": "enemy_bullet",
      "animId": "enemy_bullet_basic",
      "layer": 0
    },
    {
      "typeId": 16,
      "spriteId": "bullet",
      "animId": "player_death",
      "layer": 50
    },
    {
      "typeId": 22,
      "spriteId": "walker_special_shot",
      "animId": "walker_special_shot",
      "layer": 1
    },
    {
      "typeId": 2,
      "spriteId": "mob1",
      "animId": "left",
      "layer": 0
    },
    {
      "typeId": 21,
      "spriteId": "mob2",
      "animId": "walking",
      "layer": 0
    },
    {
      "typeId": 23,
      "spriteId": "follower",
      "animId": "walk",
      "layer": 0
    },
    {
      "typeId": 9,
      "spriteId": "obstacle_top",
      "animId": "",
      "layer": 0
    },
    {
      "typeId": 10,
      "spriteId": "obstacle_middle",
      "animId": "",
      "layer": 0
    },
    {
      "typeId": 11,
      "spriteId": "obstacle_bottom",
      "animId": "",
      "layer": 0
    },
    {
      "typeId": 17,
      "spriteId": "obstacle_bottom2",
      "animId": "",
      "layer": 0
    },
    {
      "typeId": 20,
      "spriteId": "boss",
      "animId": "default",
      "layer": 0
    }
  ],
  "patterns": [
    {
      "id": "p_linear",
      "type": "linear",
      "speed": 140
    },
    {
      "id": "p_walker_slow",
      "type": "linear",
      "speed": 90
    },
    {
      "id": "p_sine",
      "type": "sine",
      "speed": 120,
      "amplitude": 140,
      "frequency": 0.6,
      "phase": 0.0
    },
    {
      "id": "p_zigzag",
      "type": "zigzag",
      "speed": 150,
      "amplitude": 120,
      "frequency": 0.9
    },
    {
      "id": "p_follower",
      "type": "follow",
      "speed": 240
    },
    {
      "id": "p_hover_slow",
      "type": "sine",
      "speed": 0,
      "amplitude": 20,
      "frequency": 0.5,
      "phase": 0.0
    },
    {
      "id": "p_stationary",
      "type": "linear",
      "speed": 0
    }
  ],
  "templates": {
    "hitboxes": {
      "enemy_small": {
        "width": 48,
        "height": 36,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "enemy_walker": {
        "width": 32,
        "height": 32,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "ob_top": {
        "width": 147,
        "height": 23,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "ob_mid": {
        "width": 105,
        "height": 47,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "ob_bot": {
        "width": 146,
        "height": 40,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "boss_hit": {
        "width": 140,
        "height": 90,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      }
    },
    "colliders": {
      "enemy_small": {
        "shape": "box",
        "width": 48,
        "height": 36,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "enemy_walker": {
        "shape": "box",
        "width": 32,
        "height": 32,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      },
      "ob_top": {
        "shape": "polygon",
        "offsetX": 0,
        "offsetY": 0,
        "active": true,
        "points": [
          [
            0,
            0
          ],
          [
            146,
            0
          ],
          [
            146,
            4
          ],
          [
            144,
            7
          ],
          [
            139,
            14
          ],
          [
            137,
            16
          ],
          [
            129,
            22
          ],
          [
            24,
            22
          ],
          [
            4,
            6
          ],
          [
            0,
            2
          ]
        ]
      },
      "ob_mid": {
        "shape": "polygon",
        "offsetX": 0,
        "offsetY": 0,
        "active": true,
        "points": [
          [
            0,
            24
          ],
          [
            2,
            20
          ],
          [
            8,
            10
          ],
          [
            10,
            8
          ],
          [
            19,
            2
          ],
          [
            21,
            1
          ],
          [
            72,
            1
          ],
          [
            90,
            6
          ],
          [
            93,
            7
          ],
          [
            101,
            11
          ],
          [
            104,
            14
          ],
          [
            104,
            46
          ],
          [
            21,
            46
          ],
          [
            19,
            45
          ],
          [
            11,
            39
          ],
          [
            1,
            29
          ],
          [
            0,
            27
          ]
        ]
      },
      "ob_bot": {
        "shape": "polygon",
        "offsetX": 0,
        "offsetY": 0,
        "active": true,
        "points": [
          [
            0,
            35
          ],
          [
            1,
            33
          ],
          [
            6,
            26
          ],
          [
            8,
            24
          ],
          [
            16,
            18
          ],
          [
            18,
            17
          ],
          [
            71,
            0
          ],
          [
            80,
            0
          ],
          [
            83,
            1
          ],
          [
            119,
            17
          ],
          [
            125,
            21
          ],
          [
            138,
            30
          ],
          [
            143,
            34
          ],
          [
            145,
            39
          ],
          [
            0,
            39
          ]
        ]
      },
      "boss_box": {
        "shape": "box",
        "width": 140,
        "height": 90,
        "offsetX": 0,
        "offsetY": 0,
        "active": true
      }
    },
    "enemies": {
      "grunt": {
        "typeId": 2,
        "hitbox": "enemy_small",
        "collider": "enemy_small",
        "health": 2,
        "score": 200,
        "scale": [
          1.4,
          1.4
        ],
        "shooting": {
          "interval": 1.6,
          "speed": 260,
          "damage": 6,
          "lifetime": 3.0
        }
      },
      "walker": {
        "typeId": 21,
        "hitbox": "enemy_walker",
        "collider": "enemy_walker",
        "health": 2,
        "score": 220,
        "scale": [
          1.4,
          1.4
        ],
        "shooting": {
          "interval": 2.8,
          "speed": 260,
          "damage": 6,
          "lifetime": 3.0
        }
      },
      "follower": {
        "typeId": 23,
        "hitbox": "enemy_small",
        "collider": "enemy_small",
        "health": 3,
        "score": 260,
        "scale": [
          1.2,
          1.2
        ]
      }
    },
    "obstacles": {
      "wall_top": {
        "typeId": 9,
        "hitbox": "ob_top",
        "collider": "ob_top",
        "health": 20,
        "anchor": "top",
        "margin": 0,
        "speedX": -60,
        "speedY": 0,
        "scale": [
          1.4,
          1.4
        ]
      },
      "wall_mid": {
        "typeId": 10,
        "hitbox": "ob_mid",
        "collider": "ob_mid",
        "health": 28,
        "anchor": "absolute",
        "margin": 0,
        "speedX": -60,
        "speedY": 0,
        "scale": [
          1.5,
          1.5
        ]
      },
      "wall_bot": {
        "typeId": 11,
        "hitbox": "ob_bot",
        "collider": "ob_bot",
        "health": 22,
        "anchor": "bottom",
        "margin": 20,
        "speedX": -60,
        "speedY": 0,
        "scale": [
          1.4,
          1.4
        ]
      },
      "wall_bot2": {
        "typeId": 17,
        "hitbox": "ob_bot",
        "collider": "ob_bot",
        "health": 22,
        "anchor": "bottom",
        "margin": 20,
        "speedX": -60,
        "speedY": 0,
        "scale": [
          1.4,
          1.4
        ]
      }
    }
  },
  "segments": [
    {
      "id": "segment_1",
      "scroll": {
        "mode": "constant",
        "speedX": -60
      },
      "events": [
        {
          "type": "spawn_obstacle",
          "id": "walkers_floor",
          "trigger": {
            "type": "time",
            "time": 0.0
          },
          "obstacle": "wall_bot2",
          "x": 1220.0
        },
        {
          "type": "spawn_wave",
          "id": "wave_0_walkers",
          "trigger": {
            "type": "time",
            "time": 6.2
          },
          "wave": {
            "type": "stagger",
            "enemy": "walker",
            "patternId": "p_walker_slow",
            "spawnX": 1220.0,
            "startY": 661.0,
            "deltaY": 0.0,
            "count": 6,
            "spacing": 0.35
          }
        },
        {
          "type": "spawn_wave",
          "id": "wave_0_grunts",
          "trigger": {
            "type": "time",
            "time": 1.2
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_sine",
            "spawnX": 1220.0,
            "startY": 120.0,
            "deltaY": 40.0,
            "count": 8
          }
        },
        {
          "type": "spawn_wave",
          "id": "wave_0_followers",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "wave_0_grunts"
          },
          "wave": {
            "type": "stagger",
            "enemy": "follower",
            "patternId": "p_follower",
            "spawnX": 1220.0,
            "startY": 140.0,
            "deltaY": 70.0,
            "count": 6,
            "spacing": 0.25
          }
        },
        {
          "type": "spawn_wave",
          "id": "wave_1",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "wave_0_followers"
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_linear",
            "spawnX": 1220.0,
            "startY": 100.0,
            "deltaY": 80.0,
            "count": 5
          }
        }
      ],
      "exit": {
        "type": "spawn_dead",
        "spawnId": "wave_1"
      }
    },
    {
      "id": "safe_zone",
      "scroll": {
        "mode": "stopped",
        "speedX": 0
      },
      "events": [
        {
          "type": "set_scroll",
          "id": "part2_start_scroll",
          "trigger": {
            "type": "players_ready"
          },
          "scroll": {
            "mode": "constant",
            "speedX": -70
          }
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_top_1",
          "trigger": {
            "type": "distance",
            "distance": 120.0
          },
          "obstacle": "wall_top",
          "x": 1220.0,
          "margin": 20.0
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_bot_1",
          "trigger": {
            "type": "distance",
            "distance": 160.0
          },
          "obstacle": "wall_bot",
          "x": 1220.0,
          "margin": 70.0
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_mid_1",
          "trigger": {
            "type": "distance",
            "distance": 240.0
          },
          "obstacle": "wall_mid",
          "x": 1220.0,
          "y": 260.0
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_mid_2",
          "trigger": {
            "type": "distance",
            "distance": 300.0
          },
          "obstacle": "wall_mid",
          "x": 1220.0,
          "y": 460.0
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_0_grunts",
          "trigger": {
            "type": "distance",
            "distance": 150.0
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_zigzag",
            "health": 3,
            "spawnX": 1220.0,
            "startY": 80.0,
            "deltaY": 40.0,
            "count": 10
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_0b_grunts_sine",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_0_grunts"
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_sine",
            "health": 3,
            "spawnX": 1230.0,
            "startY": 120.0,
            "deltaY": 45.0,
            "count": 9
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_0c_followers_swarm",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_0b_grunts_sine"
          },
          "wave": {
            "type": "stagger",
            "enemy": "follower",
            "patternId": "p_follower",
            "health": 4,
            "spawnX": 1230.0,
            "startY": 90.0,
            "deltaY": 45.0,
            "count": 10,
            "spacing": 0.15
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_1_followers",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_0c_followers_swarm"
          },
          "wave": {
            "type": "stagger",
            "enemy": "follower",
            "patternId": "p_follower",
            "health": 4,
            "spawnX": 1230.0,
            "startY": 120.0,
            "deltaY": 35.0,
            "count": 12,
            "spacing": 0.14
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_1b_grunts_serpent",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_1_followers"
          },
          "wave": {
            "type": "serpent",
            "enemy": "grunt",
            "patternId": "p_zigzag",
            "health": 4,
            "spawnX": 1240.0,
            "startY": 80.0,
            "stepY": 40.0,
            "stepTime": 0.14,
            "amplitudeX": 110.0,
            "count": 10
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_1c_followers_zigzag",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_1b_grunts_serpent"
          },
          "wave": {
            "type": "line",
            "enemy": "follower",
            "patternId": "p_zigzag",
            "health": 4,
            "spawnX": 1230.0,
            "startY": 110.0,
            "deltaY": 40.0,
            "count": 8
          }
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_top_2",
          "trigger": {
            "type": "distance",
            "distance": 420.0
          },
          "obstacle": "wall_top",
          "x": 1220.0,
          "margin": 60.0
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_bot_2",
          "trigger": {
            "type": "distance",
            "distance": 470.0
          },
          "obstacle": "wall_bot",
          "x": 1220.0,
          "margin": 90.0
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_2_grunts_cross",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_1c_followers_zigzag"
          },
          "wave": {
            "type": "cross",
            "enemy": "grunt",
            "patternId": "p_sine",
            "health": 3,
            "centerX": 1240.0,
            "centerY": 360.0,
            "step": 75.0,
            "armLength": 2
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_2b_grunts_linear",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_2_grunts_cross"
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_linear",
            "health": 4,
            "spawnX": 1230.0,
            "startY": 70.0,
            "deltaY": 35.0,
            "count": 12
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_3_grunts_triangle",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_2b_grunts_linear"
          },
          "wave": {
            "type": "triangle",
            "enemy": "grunt",
            "patternId": "p_linear",
            "health": 4,
            "spawnX": 1240.0,
            "apexY": 110.0,
            "rowHeight": 65.0,
            "horizontalStep": 60.0,
            "layers": 3
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_3_followers_serpent",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_2b_grunts_linear"
          },
          "wave": {
            "type": "serpent",
            "enemy": "follower",
            "patternId": "p_follower",
            "health": 4,
            "spawnX": 1240.0,
            "startY": 120.0,
            "stepY": 35.0,
            "stepTime": 0.16,
            "amplitudeX": 110.0,
            "count": 10
          }
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_mid_3",
          "trigger": {
            "type": "distance",
            "distance": 560.0
          },
          "obstacle": "wall_mid",
          "x": 1220.0,
          "y": 180.0
        },
        {
          "type": "spawn_obstacle",
          "id": "part2_ob_mid_4",
          "trigger": {
            "type": "distance",
            "distance": 620.0
          },
          "obstacle": "wall_mid",
          "x": 1220.0,
          "y": 540.0
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_4_grunts_final",
          "trigger": {
            "type": "all_of",
            "triggers": [
              {
                "type": "spawn_dead",
                "spawnId": "part2_wave_3_grunts_triangle"
              },
              {
                "type": "spawn_dead",
                "spawnId": "part2_wave_3_followers_serpent"
              }
            ]
          },
          "wave": {
            "type": "line",
            "enemy": "grunt",
            "patternId": "p_sine",
            "health": 5,
            "spawnX": 1220.0,
            "startY": 60.0,
            "deltaY": 30.0,
            "count": 12
          }
        },
        {
          "type": "set_scroll",
          "id": "part2_end_stop_scroll",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_5_grunts_closing"
          },
          "scroll": {
            "mode": "stopped",
            "speedX": 0
          }
        },
        {
          "type": "checkpoint",
          "id": "part2_end_safe_checkpoint",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_5_grunts_closing"
          },
          "checkpointId": "part2_safe_end"
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_4b_followers_final",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_4_grunts_final"
          },
          "wave": {
            "type": "stagger",
            "enemy": "follower",
            "patternId": "p_follower",
            "health": 5,
            "spawnX": 1230.0,
            "startY": 80.0,
            "deltaY": 35.0,
            "count": 12,
            "spacing": 0.12
          }
        },
        {
          "type": "spawn_wave",
          "id": "part2_wave_5_grunts_closing",
          "trigger": {
            "type": "spawn_dead",
            "spawnId": "part2_wave_4b_followers_final"
          },
          "wave": {
            "type": "cross",
            "enemy": "grunt",
            "patternId": "p_zigzag",
            "health": 5,
            "centerX": 1240.0,
            "centerY": 360.0,
            "step": 70.0,
            "armLength": 3
          }
        }
      ],
      "exit": {
        "type": "all_of",
        "triggers": [
          {
            "type": "checkpoint_reached",
            "checkpointId": "part2_safe_end"
          },
          {
            "type": "players_ready"
          }
        ]
      }
    }
  ]
}
